[{"path":"https://queelius.github.io/maskedhaz/CLAUDE.html","id":null,"dir":"","previous_headings":"","what":"CLAUDE.md","title":"CLAUDE.md","text":"file provides guidance Claude Code (claude.ai/code) working code repository.","code":""},{"path":"https://queelius.github.io/maskedhaz/CLAUDE.html","id":"package-overview","dir":"","previous_headings":"","what":"Package Overview","title":"CLAUDE.md","text":"maskedhaz provides likelihood-based inference series systems masked component cause failure, using arbitrary dynamic failure rate (DFR) component distributions. Given series system data causing component uncertain (masked), computes log-likelihood, score, Hessian, MLE component parameters. package decouples closed-form assumptions: dfr_dist component distribution works, numerical integration censored observations numDeriv derivatives.","code":""},{"path":"https://queelius.github.io/maskedhaz/CLAUDE.html","id":"development-commands","dir":"","previous_headings":"","what":"Development Commands","title":"CLAUDE.md","text":"Always run devtools::document() modifying roxygen2 comments. NAMESPACE auto-generated — never edit manually.","code":"devtools::document()      # Update NAMESPACE and .Rd files from roxygen2 devtools::test()          # Run all tests devtools::test(filter = \"loglik\")   # Run specific test file devtools::check()         # Run R CMD check devtools::install()       # Install locally covr::package_coverage()  # Check test coverage (target >= 97%)"},{"path":"https://queelius.github.io/maskedhaz/CLAUDE.html","id":"dependencies","dir":"","previous_headings":"","what":"Dependencies","title":"CLAUDE.md","text":"Required (Imports): - serieshaz — Series system distributions (Phase 1) - flexhaz — DFR component distributions constructors - algebraic.dist — Distribution interface generics - likelihood.model — Likelihood model interface + fisher_mle class - generics — Generic function infrastructure (fit) - numDeriv — Numerical score Hessian - stats — integrate, optim, runif Optional (Suggests): - maskedcauses — Cross-validation closed-form exponential/Weibull - testthat, knitr, rmarkdown","code":""},{"path":[]},{"path":"https://queelius.github.io/maskedhaz/CLAUDE.html","id":"the-dfr_series_md-object","dir":"","previous_headings":"Architecture","what":"The dfr_series_md Object","title":"CLAUDE.md","text":"Constructor R/dfr_series_md.R: Class hierarchy: c(\"dfr_series_md\", \"series_md\", \"likelihood_model\") Stores dfr_dist_series object (Phase 1) plus column name configuration data frames.","code":"dfr_series_md(series = NULL, components = NULL,               par = NULL, n_par = NULL,               lifetime = \"t\", lifetime_upper = \"t_upper\",               omega = \"omega\", candset = \"x\")"},{"path":"https://queelius.github.io/maskedhaz/CLAUDE.html","id":"data-convention","dir":"","previous_headings":"Architecture","what":"Data Convention","title":"CLAUDE.md","text":"Uses omega column (string), numeric delta: Candidate sets: Boolean columns x1, x2, ..., xm (TRUE = component j candidate cause).","code":""},{"path":"https://queelius.github.io/maskedhaz/CLAUDE.html","id":"closure-returning-pattern","dir":"","previous_headings":"Architecture","what":"Closure-Returning Pattern","title":"CLAUDE.md","text":"methods follow two-step pattern flexhaz: 1. Call method model → returns closure 2. Call closure data parameters","code":"model <- dfr_series_md(components = list(dfr_exponential(), dfr_exponential())) ll_fn <- loglik(model)         # returns closure ll_fn(df, par = c(0.1, 0.2))  # evaluates log-likelihood"},{"path":"https://queelius.github.io/maskedhaz/CLAUDE.html","id":"log-likelihood-computation","dir":"","previous_headings":"Architecture","what":"Log-Likelihood Computation","title":"CLAUDE.md","text":"Exact + right-censored (fast path): Direct hazard/cum_haz calls, integration. - Exact: log(sum_{j C_i} h_j(t_i)) - H_sys(t_i) - Right: -H_sys(t_i) Left + interval-censored (integration path): Uses stats::integrate() per observation. - Integrates [sum_{j C_i} h_j(t)] * S_sys(t) relevant interval.","code":""},{"path":"https://queelius.github.io/maskedhaz/CLAUDE.html","id":"score-and-hessian","dir":"","previous_headings":"Architecture","what":"Score and Hessian","title":"CLAUDE.md","text":"Always uses numDeriv::grad() numDeriv::hessian() log-likelihood. analytical derivatives package — complexity deferred component-level dfr_dist objects.","code":""},{"path":"https://queelius.github.io/maskedhaz/CLAUDE.html","id":"mle-fitting","dir":"","previous_headings":"Architecture","what":"MLE Fitting","title":"CLAUDE.md","text":"fit.dfr_series_md uses stats::optim() numerical score. Returns fisher_mle object standard methods: coef(), vcov(), logLik(), confint(), summary(). Auto-switches Nelder-Mead BFGS single-parameter models.","code":""},{"path":"https://queelius.github.io/maskedhaz/CLAUDE.html","id":"source-file-organization","dir":"","previous_headings":"","what":"Source File Organization","title":"CLAUDE.md","text":"R/dfr_series_md.R — Constructor, type predicate, print method R/loglik.R — loglik.dfr_series_md + censored_integral helper R/score_hess.R — score.dfr_series_md, hess_loglik.dfr_series_md (numDeriv) R/fit.R — fit.dfr_series_md (optim → fisher_mle) R/rdata.R — rdata.dfr_series_md (data generation) R/methods.R — assumptions, ncomponents, component_hazard, conditional_cause_probability, cause_probability R/utils.R — decode_candidate_matrix, extract_md_data, generate_masked_series_data R/reexports.R — Re-exports dependency packages","code":""},{"path":"https://queelius.github.io/maskedhaz/CLAUDE.html","id":"testing","dir":"","previous_headings":"","what":"Testing","title":"CLAUDE.md","text":"Tests tests/testthat/ (10 files): - helper-fixtures.R — Shared helpers (make_exp_model, make_weibull_model, exp_series_loglik_analytical) - test-constructor.R — Class hierarchy, validation, print - test-loglik.R — Finite values, analytical match, monotonicity - test-score-hess.R — Dimensions, near-zero MLE, negative definite Hessian - test-fit.R — Parameter recovery, convergence, fisher_mle methods - test-rdata.R — Data structure, censoring, masking, custom columns - test-censoring.R — Left/interval/right contributions, analytical match - test-cross-validate.R — maskedcauses (skipped installed) - test-methods.R — assumptions, ncomponents, conditional/marginal cause probabilities - test-utils.R — decode_candidate_matrix, extract_md_data, generate_masked_series_data","code":""},{"path":"https://queelius.github.io/maskedhaz/CLAUDE.html","id":"key-identifiability-constraint","dir":"","previous_headings":"Testing","what":"Key Identifiability Constraint","title":"CLAUDE.md","text":"Exponential series systems identifiable individual rates system-level masked data alone — sum rates identifiable. Tests account checking sum(coef(result)).","code":""},{"path":"https://queelius.github.io/maskedhaz/CLAUDE.html","id":"masking-conditions-c1-c2-c3","dir":"","previous_headings":"","what":"Masking Conditions (C1-C2-C3)","title":"CLAUDE.md","text":"C1: failed component always candidate set C2: Candidate sets generated uniformly given failed component C3: Masking probabilities independent system parameters conditions come foundational paper ~/github/papers/masked-causes--series-systems/paper.tex (Theorem 7).","code":""},{"path":"https://queelius.github.io/maskedhaz/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"GNU General Public License v3.0 or later","title":"GNU General Public License v3.0 or later","text":"Copyright (c) 2026 Alexander Towell program free software: can redistribute /modify terms GNU General Public License published Free Software Foundation, either version 3 License, (option) later version. program distributed hope useful, WITHOUT WARRANTY; without even implied warranty MERCHANTABILITY FITNESS PARTICULAR PURPOSE. See GNU General Public License details. received copy GNU General Public License along program. , see https://www.gnu.org/licenses/.","code":""},{"path":"https://queelius.github.io/maskedhaz/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Alexander Towell. Author, maintainer.","code":""},{"path":"https://queelius.github.io/maskedhaz/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Towell (2026). maskedhaz: Masked-Cause Likelihood Models DFR Series Systems. R package version 0.1.0, https://queelius.github.io/maskedhaz/, https://github.com/queelius/maskedhaz.","code":"@Manual{,   title = {maskedhaz: Masked-Cause Likelihood Models for DFR Series Systems},   author = {Alexander Towell},   year = {2026},   note = {R package version 0.1.0,     https://queelius.github.io/maskedhaz/},   url = {https://github.com/queelius/maskedhaz}, }"},{"path":"https://queelius.github.io/maskedhaz/index.html","id":"maskedhaz","dir":"","previous_headings":"","what":"Masked-Cause Likelihood Models for DFR Series Systems","title":"Masked-Cause Likelihood Models for DFR Series Systems","text":"Masked-Cause Likelihood Models DFR Series Systems maskedhaz provides likelihood-based inference series systems masked component cause failure. series system fails component fails, causing component may unknown (masked). Given candidate sets satisfying conditions C1-C2-C3, package computes log-likelihood, score, Hessian, MLE component parameters. Unlike closed-form implementations, package works arbitrary component hazard functions flexhaz — Weibull, Gompertz, log-logistic, custom dfr_dist.","code":""},{"path":"https://queelius.github.io/maskedhaz/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Masked-Cause Likelihood Models for DFR Series Systems","text":"Install r-universe:","code":"install.packages(\"maskedhaz\", repos = \"https://queelius.r-universe.dev\")"},{"path":"https://queelius.github.io/maskedhaz/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick Start","title":"Masked-Cause Likelihood Models for DFR Series Systems","text":"","code":"library(maskedhaz)  # Three-component exponential series system model <- dfr_series_md(components = list(     dfr_exponential(0.1),     dfr_exponential(0.2),     dfr_exponential(0.3) ))  # Generate masked data with right-censoring rdata_fn <- rdata(model) set.seed(42) df <- rdata_fn(theta = c(0.1, 0.2, 0.3), n = 500, tau = 10, p = 0.5)  # Evaluate log-likelihood ll_fn <- loglik(model) ll_fn(df, par = c(0.1, 0.2, 0.3))  # Fit via MLE solver <- fit(model) result <- solver(df, par = c(0.5, 0.5, 0.5)) coef(result)    # parameter estimates vcov(result)    # variance-covariance matrix confint(result) # confidence intervals"},{"path":"https://queelius.github.io/maskedhaz/index.html","id":"mixed-component-types","dir":"","previous_headings":"","what":"Mixed Component Types","title":"Masked-Cause Likelihood Models for DFR Series Systems","text":"package supports arbitrary dfr_dist component distributions:","code":"# Weibull wear-out + exponential random failure model <- dfr_series_md(components = list(     dfr_weibull(shape = 2, scale = 100),     dfr_exponential(0.05) ))  rdata_fn <- rdata(model) set.seed(42) df <- rdata_fn(theta = c(2, 100, 0.05), n = 300, tau = Inf, p = 0.3)  solver <- fit(model) result <- solver(df, par = c(1.5, 120, 0.03)) coef(result)"},{"path":"https://queelius.github.io/maskedhaz/index.html","id":"observation-types","dir":"","previous_headings":"","what":"Observation Types","title":"Masked-Cause Likelihood Models for DFR Series Systems","text":"data frame uses omega column indicate observation type: Candidate sets Boolean columns x1, x2, ..., xm.","code":""},{"path":"https://queelius.github.io/maskedhaz/index.html","id":"key-features","dir":"","previous_headings":"","what":"Key Features","title":"Masked-Cause Likelihood Models for DFR Series Systems","text":"General hazards: Works dfr_dist component — closed-form assumptions Full censoring support: Exact, right, left, interval censoring Masked cause: Candidate sets satisfying C1-C2-C3 masking conditions MLE fitting: fit() returns fisher_mle coef(), vcov(), confint() Data generation: rdata() simulates masked series system data Diagnostics: Conditional marginal cause--failure probabilities Cross-validated: Matches closed-form results maskedcauses","code":""},{"path":"https://queelius.github.io/maskedhaz/index.html","id":"ecosystem","dir":"","previous_headings":"","what":"Ecosystem","title":"Masked-Cause Likelihood Models for DFR Series Systems","text":"maskedhaz builds : serieshaz — Series system distributions flexhaz — Dynamic failure rate distributions likelihood.model — Likelihood model interface algebraic.dist — Distribution generics Cross-validated : maskedcauses — Closed-form exponential/Weibull series likelihoods","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/assumptions.dfr_series_md.html","id":null,"dir":"Reference","previous_headings":"","what":"Assumptions for masked-cause DFR series systems — assumptions.dfr_series_md","title":"Assumptions for masked-cause DFR series systems — assumptions.dfr_series_md","text":"Assumptions masked-cause DFR series systems","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/assumptions.dfr_series_md.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Assumptions for masked-cause DFR series systems — assumptions.dfr_series_md","text":"","code":"# S3 method for class 'dfr_series_md' assumptions(model, ...)"},{"path":"https://queelius.github.io/maskedhaz/reference/assumptions.dfr_series_md.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Assumptions for masked-cause DFR series systems — assumptions.dfr_series_md","text":"model dfr_series_md object. ... Additional arguments (unused).","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/assumptions.dfr_series_md.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Assumptions for masked-cause DFR series systems — assumptions.dfr_series_md","text":"Character vector model assumptions.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/cause_probability.html","id":null,"dir":"Reference","previous_headings":"","what":"Marginal cause-of-failure probability — cause_probability","title":"Marginal cause-of-failure probability — cause_probability","text":"Returns closure computing \\(P(K=j | \\theta)\\) components, marginalized system failure time T. Theorem 5, equals \\(E_T[P(K=j | T, \\theta)]\\).","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/cause_probability.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Marginal cause-of-failure probability — cause_probability","text":"","code":"cause_probability(model, ...)  # S3 method for class 'dfr_series_md' cause_probability(model, ...)"},{"path":"https://queelius.github.io/maskedhaz/reference/cause_probability.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Marginal cause-of-failure probability — cause_probability","text":"model likelihood model object. ... Additional arguments passed returned closure.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/cause_probability.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Marginal cause-of-failure probability — cause_probability","text":"function signature function(par, ...) returning m-vector element j gives P(K=j | theta).","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/cause_probability.html","id":"methods-by-class-","dir":"Reference","previous_headings":"","what":"Methods (by class)","title":"Marginal cause-of-failure probability — cause_probability","text":"cause_probability(dfr_series_md): Method masked-cause DFR series systems using Monte Carlo integration.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/censored_integral.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute integral for left/interval censored contributions — censored_integral","title":"Compute integral for left/interval censored contributions — censored_integral","text":"Integrates [sum_{j C_i} h_j(t)] * S_sys(t) (lower, upper).","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/censored_integral.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute integral for left/interval censored contributions — censored_integral","text":"","code":"censored_integral(h_fns, H_fns, layout, par, C_i, lower, upper, m)"},{"path":"https://queelius.github.io/maskedhaz/reference/censored_integral.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute integral for left/interval censored contributions — censored_integral","text":"h_fns list hazard closures H_fns list cumulative hazard closures layout parameter layout par parameter vector C_i logical vector candidate components lower lower integration bound upper upper integration bound m number components","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/censored_integral.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute integral for left/interval censored contributions — censored_integral","text":"numeric integral value","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/component_hazard.dfr_series_md.html","id":null,"dir":"Reference","previous_headings":"","what":"Component hazard for a masked-cause DFR series system — component_hazard.dfr_series_md","title":"Component hazard for a masked-cause DFR series system — component_hazard.dfr_series_md","text":"Component hazard masked-cause DFR series system","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/component_hazard.dfr_series_md.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Component hazard for a masked-cause DFR series system — component_hazard.dfr_series_md","text":"","code":"# S3 method for class 'dfr_series_md' component_hazard(x, j, ...)"},{"path":"https://queelius.github.io/maskedhaz/reference/component_hazard.dfr_series_md.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Component hazard for a masked-cause DFR series system — component_hazard.dfr_series_md","text":"x dfr_series_md object. j Component index. ... Additional arguments passed closure.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/component_hazard.dfr_series_md.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Component hazard for a masked-cause DFR series system — component_hazard.dfr_series_md","text":"closure computing component j's hazard.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/conditional_cause_probability.html","id":null,"dir":"Reference","previous_headings":"","what":"Conditional cause-of-failure probability — conditional_cause_probability","title":"Conditional cause-of-failure probability — conditional_cause_probability","text":"Returns closure computing \\(P(K=j | T=t, \\theta)\\) components, conditional specific failure time t. Theorem 6 foundational paper, equals \\(h_j(t; \\theta) / \\sum_l h_l(t; \\theta)\\).","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/conditional_cause_probability.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Conditional cause-of-failure probability — conditional_cause_probability","text":"","code":"conditional_cause_probability(model, ...)  # S3 method for class 'dfr_series_md' conditional_cause_probability(model, ...)"},{"path":"https://queelius.github.io/maskedhaz/reference/conditional_cause_probability.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Conditional cause-of-failure probability — conditional_cause_probability","text":"model likelihood model object. ... Additional arguments passed returned closure.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/conditional_cause_probability.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Conditional cause-of-failure probability — conditional_cause_probability","text":"function signature function(t, par, ...) returning n x m matrix column j gives P(K=j | T=t, theta).","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/conditional_cause_probability.html","id":"methods-by-class-","dir":"Reference","previous_headings":"","what":"Methods (by class)","title":"Conditional cause-of-failure probability — conditional_cause_probability","text":"conditional_cause_probability(dfr_series_md): Method masked-cause DFR series systems using component hazard ratios.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/decode_candidate_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Decode candidate set matrix from Boolean columns — decode_candidate_matrix","title":"Decode candidate set matrix from Boolean columns — decode_candidate_matrix","text":"Extracts Boolean columns matching pattern prefix + digits data frame assembles logical matrix. replaces md.tools::md_decode_matrix() avoid dependency.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/decode_candidate_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Decode candidate set matrix from Boolean columns — decode_candidate_matrix","text":"","code":"decode_candidate_matrix(df, prefix = \"x\")"},{"path":"https://queelius.github.io/maskedhaz/reference/decode_candidate_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Decode candidate set matrix from Boolean columns — decode_candidate_matrix","text":"df data frame containing candidate set columns prefix column name prefix (default \"x\")","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/decode_candidate_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Decode candidate set matrix from Boolean columns — decode_candidate_matrix","text":"logical matrix one column per component, NULL matching columns found","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/dfr_series_md.html","id":null,"dir":"Reference","previous_headings":"","what":"Masked-Cause Likelihood Model for DFR Series Systems — dfr_series_md","title":"Masked-Cause Likelihood Model for DFR Series Systems — dfr_series_md","text":"Constructs likelihood model series systems masked component cause failure, components arbitrary dfr_dist distributions. Supports exact, right-censored, left-censored, interval-censored observations candidate sets satisfying C1-C2-C3.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/dfr_series_md.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Masked-Cause Likelihood Model for DFR Series Systems — dfr_series_md","text":"","code":"dfr_series_md(   series = NULL,   components = NULL,   par = NULL,   n_par = NULL,   lifetime = \"t\",   lifetime_upper = \"t_upper\",   omega = \"omega\",   candset = \"x\" )"},{"path":"https://queelius.github.io/maskedhaz/reference/dfr_series_md.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Masked-Cause Likelihood Model for DFR Series Systems — dfr_series_md","text":"series dfr_dist_series object. Ignored components provided. components list dfr_dist objects. provided, dfr_dist_series built . par Optional concatenated parameter vector. n_par Optional integer vector parameter counts per component. lifetime Column name system lifetime (default \"t\"). lifetime_upper Column name interval upper bound (default \"t_upper\"). omega Column name observation type (default \"omega\"). candset Column prefix candidate set indicators (default \"x\").","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/dfr_series_md.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Masked-Cause Likelihood Model for DFR Series Systems — dfr_series_md","text":"object class c(\"dfr_series_md\", \"series_md\", \"likelihood_model\").","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/dfr_series_md.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Masked-Cause Likelihood Model for DFR Series Systems — dfr_series_md","text":"model computes masked-cause log-likelihood series systems system lifetime minimum independent component lifetimes, causing component partially observed candidate sets. Observation types (stored omega column): \"exact\" Failed time t, cause masked among candidates \"right\" Right-censored: survived past time t \"left\" Left-censored: failed time t \"interval\" Failed interval (t, t_upper) Masking conditions: C1 Failed component candidate set probability 1 C2 Uniform probability candidate sets given component cause C3 Masking probabilities independent system parameters","code":""},{"path":[]},{"path":"https://queelius.github.io/maskedhaz/reference/dfr_series_md.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Masked-Cause Likelihood Model for DFR Series Systems — dfr_series_md","text":"","code":"# \\donttest{ library(flexhaz) library(serieshaz)  # From components model <- dfr_series_md(components = list(     dfr_exponential(0.1),     dfr_exponential(0.2),     dfr_exponential(0.3) ))  # From pre-built series sys <- dfr_dist_series(list(     dfr_weibull(shape = 2, scale = 100),     dfr_exponential(0.05) )) model2 <- dfr_series_md(series = sys) # }"},{"path":"https://queelius.github.io/maskedhaz/reference/extract_md_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract and validate masked data from a data frame — extract_md_data","title":"Extract and validate masked data from a data frame — extract_md_data","text":"Shared validation logic likelihood model methods. Checks data frame non-empty, required columns exist, decodes candidate set matrix, validates observation types.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/extract_md_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract and validate masked data from a data frame — extract_md_data","text":"","code":"extract_md_data(df, lifetime, omega, candset, lifetime_upper = NULL)"},{"path":"https://queelius.github.io/maskedhaz/reference/extract_md_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract and validate masked data from a data frame — extract_md_data","text":"df masked data frame lifetime column name system lifetime omega column name observation type candset column prefix candidate set indicators lifetime_upper column name interval upper bound","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/extract_md_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract and validate masked data from a data frame — extract_md_data","text":"list components: t, t_upper, omega, C, m, n","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/extract_model_defaults.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract model column name defaults — extract_model_defaults","title":"Extract model column name defaults — extract_model_defaults","text":"Extract model column name defaults","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/extract_model_defaults.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract model column name defaults — extract_model_defaults","text":"","code":"extract_model_defaults(model)"},{"path":"https://queelius.github.io/maskedhaz/reference/extract_model_defaults.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract model column name defaults — extract_model_defaults","text":"model likelihood model object","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/extract_model_defaults.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract model column name defaults — extract_model_defaults","text":"list lifetime, lifetime_upper, omega, candset defaults","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/fit.dfr_series_md.html","id":null,"dir":"Reference","previous_headings":"","what":"MLE fitting for masked-cause DFR series systems — fit.dfr_series_md","title":"MLE fitting for masked-cause DFR series systems — fit.dfr_series_md","text":"Returns solver function finds maximum likelihood estimates component parameters given masked series system data.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/fit.dfr_series_md.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"MLE fitting for masked-cause DFR series systems — fit.dfr_series_md","text":"","code":"# S3 method for class 'dfr_series_md' fit(object, ...)"},{"path":"https://queelius.github.io/maskedhaz/reference/fit.dfr_series_md.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"MLE fitting for masked-cause DFR series systems — fit.dfr_series_md","text":"object dfr_series_md object. ... Additional arguments (currently unused).","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/fit.dfr_series_md.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"MLE fitting for masked-cause DFR series systems — fit.dfr_series_md","text":"solver function signature function(df, par, method = \"Nelder-Mead\", ..., control = list()) returns fisher_mle object.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/fit.dfr_series_md.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"MLE fitting for masked-cause DFR series systems — fit.dfr_series_md","text":"Uses optim maximize log-likelihood. score function (gradient) provided gradient-based methods. Hessian MLE computed variance-covariance estimation.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/generate_masked_series_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate masked series system data — generate_masked_series_data","title":"Generate masked series system data — generate_masked_series_data","text":"Creates masked data pre-generated component lifetimes. Applies system lifetime calculation (minimum components), right-censoring tau, candidate set generation satisfying C1-C2-C3.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/generate_masked_series_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate masked series system data — generate_masked_series_data","text":"","code":"generate_masked_series_data(   comp_lifetimes,   n,   m,   tau,   p,   default_lifetime,   default_omega,   default_candset )"},{"path":"https://queelius.github.io/maskedhaz/reference/generate_masked_series_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate masked series system data — generate_masked_series_data","text":"comp_lifetimes n x m matrix component lifetimes n number observations m number components tau right-censoring time p masking probability non-failed components default_lifetime column name system lifetime default_omega column name observation type default_candset column prefix candidate sets","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/generate_masked_series_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate masked series system data — generate_masked_series_data","text":"data frame system lifetime, observation type, candidate sets","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/hess_loglik.dfr_series_md.html","id":null,"dir":"Reference","previous_headings":"","what":"Hessian of log-likelihood for masked-cause DFR series systems — hess_loglik.dfr_series_md","title":"Hessian of log-likelihood for masked-cause DFR series systems — hess_loglik.dfr_series_md","text":"Returns Hessian function computed via numerical differentiation log-likelihood using hessian.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/hess_loglik.dfr_series_md.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Hessian of log-likelihood for masked-cause DFR series systems — hess_loglik.dfr_series_md","text":"","code":"# S3 method for class 'dfr_series_md' hess_loglik(model, ...)"},{"path":"https://queelius.github.io/maskedhaz/reference/hess_loglik.dfr_series_md.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Hessian of log-likelihood for masked-cause DFR series systems — hess_loglik.dfr_series_md","text":"model dfr_series_md object. ... Additional arguments (currently unused).","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/hess_loglik.dfr_series_md.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Hessian of log-likelihood for masked-cause DFR series systems — hess_loglik.dfr_series_md","text":"function signature function(df, par, ...) returning Hessian matrix.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/is_dfr_series_md.html","id":null,"dir":"Reference","previous_headings":"","what":"Test whether an object is a dfr_series_md — is_dfr_series_md","title":"Test whether an object is a dfr_series_md — is_dfr_series_md","text":"Test whether object dfr_series_md","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/is_dfr_series_md.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test whether an object is a dfr_series_md — is_dfr_series_md","text":"","code":"is_dfr_series_md(x)"},{"path":"https://queelius.github.io/maskedhaz/reference/is_dfr_series_md.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Test whether an object is a dfr_series_md — is_dfr_series_md","text":"x Object test.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/is_dfr_series_md.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Test whether an object is a dfr_series_md — is_dfr_series_md","text":"Logical scalar.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/loglik.dfr_series_md.html","id":null,"dir":"Reference","previous_headings":"","what":"Log-likelihood for masked-cause DFR series systems — loglik.dfr_series_md","title":"Log-likelihood for masked-cause DFR series systems — loglik.dfr_series_md","text":"Returns log-likelihood function series system masked component cause failure. Supports four observation types: exact failures, right-censored, left-censored, interval-censored.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/loglik.dfr_series_md.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Log-likelihood for masked-cause DFR series systems — loglik.dfr_series_md","text":"","code":"# S3 method for class 'dfr_series_md' loglik(model, ...)"},{"path":"https://queelius.github.io/maskedhaz/reference/loglik.dfr_series_md.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Log-likelihood for masked-cause DFR series systems — loglik.dfr_series_md","text":"model dfr_series_md object. ... Additional arguments (currently unused).","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/loglik.dfr_series_md.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Log-likelihood for masked-cause DFR series systems — loglik.dfr_series_md","text":"function signature function(df, par, ...) computes log-likelihood.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/loglik.dfr_series_md.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Log-likelihood for masked-cause DFR series systems — loglik.dfr_series_md","text":"Log-likelihood contributions observation type: Exact (\\(\\omega = \\) \"exact\") \\(\\log L_i = \\log(\\sum_{j \\C_i} h_j(t_i)) - H_{sys}(t_i)\\) Right-censored (\\(\\omega = \\) \"right\") \\(\\log L_i = -H_{sys}(t_i)\\) Left-censored (\\(\\omega = \\) \"left\") \\(\\log L_i = \\log \\int_0^{t_i} [\\sum_{j \\C_i} h_j(u)] S_{sys}(u) \\, du\\) Interval-censored (\\(\\omega = \\) \"interval\") \\(\\log L_i = \\log \\int_{t_i}^{t_{upper,}} [\\sum_{j \\C_i} h_j(u)] S_{sys}(u) \\, du\\) exact right-censored paths use direct hazard/cumulative hazard calls. Left interval censoring require numerical integration via integrate.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/maskedhaz-package.html","id":null,"dir":"Reference","previous_headings":"","what":"maskedhaz: Masked-Cause Likelihood Models for DFR Series Systems — maskedhaz-package","title":"maskedhaz: Masked-Cause Likelihood Models for DFR Series Systems — maskedhaz-package","text":"Likelihood-based inference series systems masked component cause failure, using arbitrary dynamic failure rate (DFR) component distributions. Computes log-likelihood, score, Hessian, MLE masked data satisfying conditions C1, C2, C3 general component hazard functions.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/maskedhaz-package.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"maskedhaz: Masked-Cause Likelihood Models for DFR Series Systems — maskedhaz-package","text":"maskedhaz package provides likelihood-based inference series systems masked component cause failure, using arbitrary dynamic failure rate (DFR) component distributions serieshaz. series system fails component fails, causing component may unknown (masked). Given candidate sets satisfying conditions C1, C2, C3, package computes log-likelihood, score, Hessian, MLE component parameters.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/maskedhaz-package.html","id":"package-functions","dir":"Reference","previous_headings":"","what":"Package functions","title":"maskedhaz: Masked-Cause Likelihood Models for DFR Series Systems — maskedhaz-package","text":"dfr_series_md Constructor: create masked-cause likelihood model is_dfr_series_md Type predicate loglik Log-likelihood score Score function hess_loglik Hessian fit MLE fitting rdata Data generation","code":""},{"path":[]},{"path":"https://queelius.github.io/maskedhaz/reference/maskedhaz-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"maskedhaz: Masked-Cause Likelihood Models for DFR Series Systems — maskedhaz-package","text":"Maintainer: Alexander Towell lex@metafunctor.com","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/ncomponents.dfr_series_md.html","id":null,"dir":"Reference","previous_headings":"","what":"Number of components in a masked-cause DFR series system — ncomponents.dfr_series_md","title":"Number of components in a masked-cause DFR series system — ncomponents.dfr_series_md","text":"Number components masked-cause DFR series system","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/ncomponents.dfr_series_md.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Number of components in a masked-cause DFR series system — ncomponents.dfr_series_md","text":"","code":"# S3 method for class 'dfr_series_md' ncomponents(x, ...)"},{"path":"https://queelius.github.io/maskedhaz/reference/ncomponents.dfr_series_md.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Number of components in a masked-cause DFR series system — ncomponents.dfr_series_md","text":"x dfr_series_md object. ... Additional arguments (unused).","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/ncomponents.dfr_series_md.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Number of components in a masked-cause DFR series system — ncomponents.dfr_series_md","text":"Integer, number components.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/print.dfr_series_md.html","id":null,"dir":"Reference","previous_headings":"","what":"Print method for dfr_series_md — print.dfr_series_md","title":"Print method for dfr_series_md — print.dfr_series_md","text":"Print method dfr_series_md","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/print.dfr_series_md.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print method for dfr_series_md — print.dfr_series_md","text":"","code":"# S3 method for class 'dfr_series_md' print(x, ...)"},{"path":"https://queelius.github.io/maskedhaz/reference/print.dfr_series_md.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print method for dfr_series_md — print.dfr_series_md","text":"x dfr_series_md object. ... Additional arguments (unused).","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/print.dfr_series_md.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print method for dfr_series_md — print.dfr_series_md","text":"Invisibly returns x.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/rdata.dfr_series_md.html","id":null,"dir":"Reference","previous_headings":"","what":"Random data generation for masked-cause DFR series systems — rdata.dfr_series_md","title":"Random data generation for masked-cause DFR series systems — rdata.dfr_series_md","text":"Returns function generates random masked series system data model's data-generating process (DGP). Uses sample_components component lifetimes applies right-censoring masking satisfying C1-C2-C3.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/rdata.dfr_series_md.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Random data generation for masked-cause DFR series systems — rdata.dfr_series_md","text":"","code":"# S3 method for class 'dfr_series_md' rdata(model, ...)"},{"path":"https://queelius.github.io/maskedhaz/reference/rdata.dfr_series_md.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Random data generation for masked-cause DFR series systems — rdata.dfr_series_md","text":"model dfr_series_md object. ... Additional arguments (currently unused).","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/rdata.dfr_series_md.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Random data generation for masked-cause DFR series systems — rdata.dfr_series_md","text":"function signature function(theta, n, tau = Inf, p = 0, ...) returns data frame columns lifetime, observation type, candidate sets.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/reexports.html","id":null,"dir":"Reference","previous_headings":"","what":"Objects exported from other packages — reexports","title":"Objects exported from other packages — reexports","text":"objects imported packages. Follow links see documentation. algebraic.dist hazard, params, sampler, surv flexhaz cum_haz, dfr_exponential, dfr_gompertz, dfr_loglogistic, dfr_weibull generics fit likelihood.model assumptions, hess_loglik, loglik, rdata, score serieshaz component, component_hazard, dfr_dist_series, is_dfr_dist_series, ncomponents, param_layout, sample_components","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/score.dfr_series_md.html","id":null,"dir":"Reference","previous_headings":"","what":"Score function for masked-cause DFR series systems — score.dfr_series_md","title":"Score function for masked-cause DFR series systems — score.dfr_series_md","text":"Returns score (gradient) function computed via numerical differentiation log-likelihood using grad.","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/score.dfr_series_md.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Score function for masked-cause DFR series systems — score.dfr_series_md","text":"","code":"# S3 method for class 'dfr_series_md' score(model, ...)"},{"path":"https://queelius.github.io/maskedhaz/reference/score.dfr_series_md.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Score function for masked-cause DFR series systems — score.dfr_series_md","text":"model dfr_series_md object. ... Additional arguments (currently unused).","code":""},{"path":"https://queelius.github.io/maskedhaz/reference/score.dfr_series_md.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Score function for masked-cause DFR series systems — score.dfr_series_md","text":"function signature function(df, par, ...) returning gradient vector.","code":""},{"path":"https://queelius.github.io/maskedhaz/news/index.html","id":"maskedhaz-010","dir":"Changelog","previous_headings":"","what":"maskedhaz 0.1.0","title":"maskedhaz 0.1.0","text":"Initial release dfr_series_md() constructor masked-cause likelihood models Log-likelihood supporting exact, right, left, interval censoring Score Hessian via numDeriv MLE fitting via optim returning fisher_mle objects Data generation configurable censoring masking Conditional marginal cause--failure probabilities Cross-validated maskedcauses exponential components","code":""}]
